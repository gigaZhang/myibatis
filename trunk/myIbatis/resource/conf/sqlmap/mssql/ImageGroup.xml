<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap
	PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN"
	"http://www.ibatis.com/dtd/sql-map-2.dtd">
<sqlMap>

	<select id="listImageGroup"  parameterClass="java.util.Map" resultClass="com.freemarker.entity.ImageGroup">  
		SELECT tg_id,tg_pid,tg_name,tg_desc,tp_url FROM DD_IMAGES_GROUP where $search$ order by tg_id asc
	</select>
	
	<select id="getImageGroup"  parameterClass="java.util.Map" resultClass="com.freemarker.entity.ImageGroup">  
		SELECT top 1 $rows$ FROM DD_IMAGES_GROUP where $search$
	</select>
	
	<select id="getImageGroupId"  parameterClass="java.util.Map" resultClass="com.freemarker.entity.ImageGroup">  
		SELECT top 1 tg_id FROM DD_IMAGES_GROUP where tg_name = #tg_name# and tg_pid = #tg_pid#
	</select>
	
	<insert id="insertImageGroup" parameterClass="com.freemarker.entity.ImageGroup">  
		insert into DD_IMAGES_GROUP(tg_pid,tg_name,tg_desc,tp_url) values (#tg_pid#,#tg_name#,#tg_desc#,#tp_url#)
	</insert>	
	
	<delete id="deleteGroupImageGroup" parameterClass="java.util.Map">
		delete DD_IMAGES_GROUP where $search$
	</delete>	
	
	<update id="updateImageGroup" parameterClass="com.freemarker.entity.ImageGroup">
		update DD_IMAGES_GROUP
		<dynamic prepend="SET">
			<isNotEmpty prepend="," property="tg_name">tg_name = #tg_name# </isNotEmpty>
			<isNotEmpty prepend="," property="tg_desc">tg_desc = #tg_desc# </isNotEmpty>
			<isNotEmpty prepend="," property="tp_url">tp_url = #tp_url# </isNotEmpty>
	</dynamic>
		 where tg_id = #tg_id#
	</update>						 
</sqlMap>